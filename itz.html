<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>NEET Quiz Generator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    .question {
      margin-bottom: 20px;
      padding: 15px;
      border: 1px solid #ccc;
      border-radius: 10px;
      background-color: #f9f9f9;
    }
    .question-number {
      font-weight: bold;
      margin-bottom: 10px;
    }
    .options {
      list-style-type: none;
      padding: 0;
    }
    .options li {
      margin-bottom: 5px;
    }
    #submit-btn {
      margin-top: 20px;
    }
  </style>
</head>
<body>

<h2>NEET Quiz Generator</h2>

<div id="setup-container">
  <label for="num-questions">Enter number of questions:</label>
  <input type="number" id="num-questions" min="1">
  <button onclick="generateQuiz()">Generate Quiz</button>
</div>

<hr>

<div id="quiz-container"></div>

<script>
  // Sample quizData (Replace with real questions)
  const quizData = [
    {
      subject: "Physics",
      questions: [
        { content: "What is Newton's second law?", options: [
          { identifier: "A", content: "F = ma" },
          { identifier: "B", content: "E = mc²" },
          { identifier: "C", content: "v = u + at" },
          { identifier: "D", content: "F = Gm1m2/r²" }
        ]},
        { content: "Unit of Power is?", options: [
          { identifier: "A", content: "Joule" },
          { identifier: "B", content: "Watt" },
          { identifier: "C", content: "Newton" },
          { identifier: "D", content: "Volt" }
        ]},
        // Add more Physics questions
      ]
    },
    {
      subject: "Chemistry",
      questions: [
        { content: "Atomic number of Oxygen?", options: [
          { identifier: "A", content: "6" },
          { identifier: "B", content: "8" },
          { identifier: "C", content: "10" },
          { identifier: "D", content: "12" }
        ]},
        { content: "HCl is an example of?", options: [
          { identifier: "A", content: "Salt" },
          { identifier: "B", content: "Base" },
          { identifier: "C", content: "Acid" },
          { identifier: "D", content: "Alcohol" }
        ]},
        // Add more Chemistry questions
      ]
    },
    {
      subject: "Biology",
      questions: [
        { content: "Cell is the basic unit of?", options: [
          { identifier: "A", content: "Air" },
          { identifier: "B", content: "Life" },
          { identifier: "C", content: "Water" },
          { identifier: "D", content: "Energy" }
        ]},
        { content: "Photosynthesis occurs in?", options: [
          { identifier: "A", content: "Mitochondria" },
          { identifier: "B", content: "Chloroplast" },
          { identifier: "C", content: "Nucleus" },
          { identifier: "D", content: "Cytoplasm" }
        ]},
        // Add more Biology questions
      ]
    }
  ];

  function generateQuiz() {
    const numQuestions = parseInt(document.getElementById('num-questions').value);
    if (isNaN(numQuestions) || numQuestions <= 0) {
      alert("Please enter a valid number of questions.");
      return;
    }

    const selectedQuestions = getBalancedQuestions(numQuestions);
    displayQuestions(selectedQuestions);
  }

  function getBalancedQuestions(totalQuestions) {
    const totalSubjects = quizData.length;
    const perSubjectCount = Math.floor(totalQuestions / totalSubjects);
    const remainder = totalQuestions % totalSubjects;

    let allSelected = [];

    quizData.forEach((subjectData, index) => {
      let count = perSubjectCount + (index < remainder ? 1 : 0); // distribute remainder
      const shuffled = shuffle([...subjectData.questions]);
      const selected = shuffled.slice(0, count).map(q => ({ ...q, subject: subjectData.subject }));
      allSelected = allSelected.concat(selected);
    });

    // Shuffle final mix of questions
    return shuffle(allSelected);
  }

  function displayQuestions(questions) {
    const quizContainer = document.getElementById('quiz-container');
    quizContainer.innerHTML = '';

    questions.forEach((question, index) => {
      const questionDiv = document.createElement('div');
      questionDiv.className = 'question';

      const number = document.createElement('div');
      number.className = 'question-number';
      number.textContent = `Q${index + 1} (${question.subject})`;
      questionDiv.appendChild(number);

      const content = document.createElement('div');
      content.className = 'question-content';
      content.innerHTML = question.content;
      questionDiv.appendChild(content);

      const optionsList = document.createElement('ul');
      optionsList.className = 'options';

      question.options.forEach(option => {
        const li = document.createElement('li');
        const label = document.createElement('label');
        const input = document.createElement('input');

        input.type = 'radio';
        input.name = `question${index}`;
        input.value = option.identifier;

        label.appendChild(input);
        label.innerHTML += option.content;
        li.appendChild(label);
        optionsList.appendChild(li);
      });

      questionDiv.appendChild(optionsList);
      quizContainer.appendChild(questionDiv);
    });

    const submitBtn = document.createElement('button');
    submitBtn.id = 'submit-btn';
    submitBtn.textContent = 'Submit Answers';
    submitBtn.onclick = submitAnswers;
    quizContainer.appendChild(submitBtn);
  }

  function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  }

  function submitAnswers() {
    alert("Submission logic not implemented in this demo.");
  }
</script>

</body>
</html>
